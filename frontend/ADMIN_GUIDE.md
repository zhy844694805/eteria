# 管理员后台使用指南

## 🎯 概述

永念纪念网站管理员后台提供了完整的网站管理功能，包括用户管理、内容审核、数据统计等核心功能。

## 🔐 管理员账户设置

### 创建第一个管理员

```bash
# 在frontend目录下运行
npm run create-admin
```

**默认管理员账户信息：**
- 邮箱: `admin@aimodel.it`
- 密码: `admin123456`
- 角色: 超级管理员

⚠️ **重要：** 首次登录后请立即修改密码！

### 访问管理后台

管理后台地址：`你的域名/admin`
- 开发环境: http://localhost:3000/admin
- 生产环境: https://yourdomain.com/admin

## 👥 用户角色系统

### 角色层级

1. **普通用户 (USER)** - 基础用户权限
2. **版主 (MODERATOR)** - 内容审核权限
3. **管理员 (ADMIN)** - 用户管理 + 内容管理权限  
4. **超级管理员 (SUPER_ADMIN)** - 所有权限

### 权限说明

- **版主以上**: 可访问管理后台
- **管理员以上**: 可管理普通用户和版主
- **超级管理员**: 可管理所有用户，包括其他管理员

## 🏠 功能模块

### 1. 仪表板 (`/admin`)

**核心功能：**
- 系统统计数据概览
- 最近用户活动展示
- 待处理事项提醒
- 快捷操作入口

**关键指标：**
- 用户总数与新增趋势
- 纪念页面统计
- 待审核内容数量
- 社区互动数据

### 2. 用户管理 (`/admin/users`)

**主要功能：**
- 查看所有用户列表
- 用户搜索和筛选
- 用户状态管理（激活/禁用）
- 用户封禁/解封
- 批量操作

**筛选选项：**
- 用户状态：正常/被封禁/已禁用/未验证
- 用户角色：普通用户/版主/管理员/超级管理员
- 注册时间范围

**批量操作：**
- 批量激活/禁用
- 批量导出用户数据
- 批量发送通知邮件

### 3. 内容审核 (`/admin/content`)

**审核内容类型：**
- 纪念页面审核
- 用户留言审核
- 图片内容审核

**审核状态：**
- 待审核 (PENDING)
- 已通过 (APPROVED)  
- 已拒绝 (REJECTED)

**审核操作：**
- 单个内容审核
- 批量审核
- 设置审核原因
- 自动审核规则

### 4. 数据分析 (`/admin/analytics`)

**数据报表：**
- 用户增长趋势
- 内容发布统计
- 用户活跃度分析
- 系统使用情况

**导出功能：**
- Excel格式报表导出
- 自定义时间范围
- 分类数据导出

### 5. 系统设置 (`/admin/settings`)

**基本设置：**
- 网站标题和描述
- 联系信息配置
- SEO元信息设置

**邮件设置：**
- SMTP服务器配置
- 邮件模板管理
- 发送测试邮件

**安全设置：**
- 登录策略配置
- IP白名单设置
- 访问日志查看

## 🔧 管理操作指南

### 用户管理操作

#### 封禁用户
1. 进入用户管理页面
2. 找到目标用户，点击"封禁"按钮
3. 填写封禁原因（必填）
4. 选择封禁时长：1天/7天/30天/永久
5. 确认封禁

#### 解封用户
1. 筛选"被封禁"用户
2. 找到目标用户，点击"解封"按钮
3. 确认解封操作

#### 修改用户角色
1. 查看用户详情
2. 在角色设置中选择新角色
3. 确认修改（需要相应权限）

### 内容审核操作

#### 审核纪念页面
1. 进入内容审核页面
2. 点击"待审核内容"
3. 查看纪念页面详情
4. 选择"通过"或"拒绝"
5. 填写审核意见（拒绝时必填）

#### 批量审核
1. 勾选多个待审核内容
2. 点击"批量操作"按钮
3. 选择操作类型
4. 确认批量操作

## 📊 系统监控

### 日志记录

系统自动记录所有管理员操作：
- 用户管理操作
- 内容审核操作  
- 系统设置修改
- 登录/登出记录

### 操作审计

每个管理员操作都包含：
- 操作时间
- 操作管理员
- 操作类型
- 操作对象
- 操作详情
- IP地址

## 🚨 安全注意事项

### 密码安全
- 使用强密码（至少8位，包含大小写字母、数字、特殊字符）
- 定期更换密码
- 不要共享管理员账户

### 权限管理
- 按需分配权限，遵循最小权限原则
- 定期审查管理员账户
- 及时删除不再需要的管理员账户

### 操作审慎
- 重要操作前仔细确认
- 批量操作前进行小范围测试
- 定期备份重要数据

## 🛠️ 故障排除

### 常见问题

#### 无法访问管理后台
- 检查用户角色是否为版主以上
- 确认账户未被封禁
- 清除浏览器缓存后重试

#### 操作失败
- 检查网络连接
- 确认操作权限
- 查看错误提示信息

#### 数据加载缓慢
- 检查服务器性能
- 优化数据库查询
- 考虑增加缓存

### 紧急联系

如遇到严重问题，请联系技术支持：
- 邮箱: support@aimodel.it
- 技术文档: 查看README.md

## 📈 最佳实践

### 用户管理
- 定期清理非活跃用户
- 及时处理用户举报
- 建立用户等级制度

### 内容管理
- 制定明确的内容审核标准
- 建立内容分类体系
- 定期备份重要内容

### 系统维护
- 定期更新系统版本
- 监控系统性能指标
- 建立数据备份策略

---

**版本**: v1.0  
**更新时间**: 2024年7月31日  
**文档维护**: 永念开发团队